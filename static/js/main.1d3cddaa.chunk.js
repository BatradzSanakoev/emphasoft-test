(this["webpackJsonpemphasoft-test"]=this["webpackJsonpemphasoft-test"]||[]).push([[0],{41:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgB7dmBacMwEIXhayfwKN2g3aQaJZu0G3SEjpBRMsKLTHIgjFFkWyfpzPtABEKI9JMQTkSEiIiIiIi6ATBJT/EAP/MSQ/H9P+K6xfUtPTwjlUlsEqnaxi4iTWJXIg/Fvss+byvPhVqxc2R8+I9rKtzbTjzML9Ydis18krMgPdSOHTIyOVyV2KEj1dFYF5Fqb6yrSLU11mWkKo11HalexZ4iUmVi/04TqTKx54lUhbFBzuD5de0auXeoL4bHgP6VecmneIf8r2vK9PJuakOk39gXkfO91eSK1xQKhwHXsdg48biMxc6xzlUsDs6uLmJRaUAfOhaVbyFDxsLoqjVULIzvk0PExs0mNLhPZmIv0goe041ZZLLPMvaK1v+sLWKDGEli20cmhwiWkck+F/T+j5SIiIiIiPq6A+E83r5G5qT6AAAAAElFTkSuQmCC"},68:function(e,a){e.exports="data:image/png;base64,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"},76:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEUAAAD///////////84wDuoAAAAA3RSTlMAQHBaCvrnAAAAIUlEQVQI12NgYJB3ABLkUqGh+VNDAxj+g8AHKAUVpNBoAPerFytk60d3AAAAAElFTkSuQmCC"},78:function(e,a,t){e.exports=t(89)},83:function(e,a,t){},89:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(72),o=t.n(r),c=(t(83),t(10)),i=t(3),l="https://emphasoft-test-assignment.herokuapp.com",p=t(43),m=t(5);function u(e){var a=e.loggedIn,t=e.headerUser,n=e.signOut;return s.a.createElement("header",{className:"header"},s.a.createElement("h1",{className:"header__title"},"Emphasoft Test"),s.a.createElement("div",{className:"".concat(a?"header__info":"header__status")},s.a.createElement("p",{className:"header__user"},t),s.a.createElement("p",{className:"header__out",onClick:n},"\u0412\u044b\u0439\u0442\u0438")))}function _(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("p",{className:"footer__copyright"},"\xa9Emphasoft Test 2020"))}var d=t(41),E=t.n(d);var h=function(e){var a=e.name,t=e.isOpen,n=e.onClose,r=e.text,o=e.icon;return s.a.createElement("section",{className:"pop-up ".concat(a,"-pop ").concat(t&&"pops-visible")},s.a.createElement("div",{className:"pop-up__container"},s.a.createElement("button",{className:"pop-up__close-button",onClick:n},s.a.createElement("img",{src:E.a,alt:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",className:"pop-up__close-icon"})),s.a.createElement("div",{className:"auth-check"},s.a.createElement("img",{className:"auth-check__img",alt:"\u0438\u043a\u043e\u043d\u043a\u0430",src:o}),s.a.createElement("p",{className:"auth-check__text"},r))))};function f(e){var a=e.handleLogin,t=e.isInfoToolOpen,n=e.onClose,r=e.forInfoTool,o=m.c().shape({username:m.d().typeError("Type will be String").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),password:m.d().typeError("Type will be String").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")});return s.a.createElement(s.a.Fragment,null,s.a.createElement(h,{isOpen:t,onClose:n,text:r.message,icon:r.icon}),s.a.createElement(u,null),s.a.createElement(p.a,{initialValues:{username:"",password:""},validateOnBlur:!0,onSubmit:function(e){a(e.username,e.password),e.username="",e.password=""},validationSchema:o},(function(e){var a=e.values,t=e.errors,n=e.touched,r=e.handleChange,o=e.handleBlur,c=e.isValid,i=e.handleSubmit,l=e.dirty;return s.a.createElement("section",{className:"auth-section"},s.a.createElement("h2",{className:"auth-section__title"},"\u0412\u0445\u043e\u0434"),s.a.createElement("form",{className:"auth-section__form",onSubmit:i,noValidate:!0},s.a.createElement("input",{className:"auth-section__input",type:"text",placeholder:"Username",value:a.username,name:"username",onChange:r,onBlur:o}),s.a.createElement("p",{className:"pop-up__form-error"},n.username&&t.username&&t.username),s.a.createElement("input",{className:"auth-section__input",type:"password",placeholder:"Password",value:a.password,name:"password",onChange:r,onBlur:o}),s.a.createElement("p",{className:"pop-up__form-error"},n.password&&t.password&&t.password),s.a.createElement("button",{type:"submit",className:"auth-section__button",disabled:!c||!l},"\u0412\u043e\u0439\u0442\u0438")))})),s.a.createElement(_,null))}var v=t(60),A=function(e){var a=e.component,t=Object(v.a)(e,["component"]);return s.a.createElement(i.b,null,t.loggedIn?s.a.createElement(a,t):s.a.createElement(i.a,{to:"./sign-in"}))},g=t(77);var N=function(e){var a=e.id,t=e.username,n=e.onEditPopup;return s.a.createElement("div",{className:"user"},s.a.createElement("div",{className:"user__container"},s.a.createElement("div",{className:"user__info"},s.a.createElement("p",{className:"user__id"},"ID: ",a),s.a.createElement("p",{className:"user__name"},"User: ",t)),s.a.createElement("div",{className:"user__buttons"},s.a.createElement("button",{className:"user__button user__button_edit",onClick:function(){n(a)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"))))},b=t(76),y=t.n(b);function S(e){var a=e.users,t=e.onEditPopup,n=e.onAddPopup;return s.a.createElement("main",{className:"content"},s.a.createElement("section",{className:"profile"},s.a.createElement("div",{className:"profile__add-part"},s.a.createElement("button",{className:"profile__add-button",onClick:n},s.a.createElement("img",{src:y.a,alt:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c",className:"profile__add-icon"})))),s.a.createElement("section",{className:"users"},a.map((function(e){var a=e.id,n=Object(v.a)(e,["id"]);return s.a.createElement(N,Object.assign({key:a,id:a,onEditPopup:t},n))}))))}var w="https://emphasoft-test-assignment.herokuapp.com";function x(e){var a=e.isOpen,t=e.onClose,n=e.onUpdateUser,r=e.ID,o=s.a.useState({id:"",username:"",first_name:"",last_name:"",is_active:!1,last_login:"",is_superuser:!1}),i=Object(c.a)(o,2),l=i[0],u=i[1],_=m.c().shape({id:m.b().typeError("Type will be String").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),username:m.d().typeError("Type will be String").min(1,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 1").max(150,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 150").matches("^[\\w.@+-]+$","\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0438\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),first_name:m.d().typeError("Type will be String").max(30,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 30"),last_name:m.d().typeError("Type will be String").max(150,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 150"),is_active:m.a().typeError("Type will be Bool"),last_login:m.d().typeError("Type will be String"),is_superuser:m.a().typeError("Type will be Bool")});return s.a.useEffect((function(){var e;(e=r,fetch("".concat(w,"/api/v1/users/").concat(e,"/"),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){return e}))).then((function(e){u({id:e.id,username:e.username,first_name:e.first_name,last_name:e.last_name,is_active:e.is_active&&!0,last_login:e.last_login?e.last_login:"",is_superuser:e.is_superuser&&!0})})).catch((function(e){return console.log({message:e})}))}),[r]),s.a.createElement(p.a,{enableReinitialize:!0,initialValues:l,validateOnBlur:!0,validationSchema:_,onSubmit:function(e){n(e.id,e.username,e.first_name,e.last_name,e.is_active)}},(function(e){var n=e.values,r=e.errors,o=e.touched,c=e.handleChange,i=e.handleBlur,l=e.isValid,p=e.handleSubmit,m=e.dirty;return s.a.createElement("section",{className:"pop-up edit-pop ".concat(a&&"pops-visible")},s.a.createElement("div",{className:"pop-up__container"},s.a.createElement("button",{className:"pop-up__close-button",onClick:t},s.a.createElement("img",{src:E.a,alt:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",className:"pop-up__close-icon"})),s.a.createElement("form",{className:"pop-up__form pop-up__form_edit",onSubmit:p,noValidate:!0},s.a.createElement("h2",{className:"pop-up__form-title"},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),s.a.createElement("fieldset",{className:"pop-up__form-input"},s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"ID:"),s.a.createElement("input",{type:"text",name:"id",value:n.id,placeholder:"ID",className:"pop-up__input pop-up__input_edit-id",id:"edit-id-input",readOnly:!0})),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Username:"),s.a.createElement("input",{type:"text",name:"username",value:n.username,placeholder:"Username",className:"pop-up__input pop-up__input_edit-username",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.username&&r.username&&r.username),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"First name:"),s.a.createElement("input",{type:"text",name:"first_name",value:n.first_name,placeholder:"First name",className:"pop-up__input pop-up__input_edit-first_name",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.first_name&&r.first_name&&r.first_name),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Last name:"),s.a.createElement("input",{type:"text",name:"last_name",value:n.last_name,placeholder:"Last name",className:"pop-up__input pop-up__input_edit-last_name",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.last_name&&r.last_name&&r.last_name),s.a.createElement("div",{className:"pop-up__input-checkbox"},s.a.createElement("p",{className:"pop-up__label"},"isActive:"),s.a.createElement("input",{type:"checkbox",name:"is_active",value:n.is_active,className:"pop-up__checkbox pop-up__input_edit-isActive",onChange:c,onBlur:i,checked:n.is_active})),s.a.createElement("p",{className:"pop-up__form-error"},o.is_active&&r.is_active&&r.is_active),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Last login:"),s.a.createElement("input",{type:"text",name:"last_login",value:n.last_login,placeholder:"Last login",className:"pop-up__input pop-up__input_edit-last_login",readOnly:!0})),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Is Superuser:"),s.a.createElement("input",{type:"text",name:"is_superuser",value:n.is_superuser,placeholder:"Is Superuser",className:"pop-up__input pop-up__input_edit-is_superuser",readOnly:!0})),s.a.createElement("button",{type:"submit",className:"pop-up__button",disabled:!l||!m},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c")))))}))}var k=function(e){var a=e.isOpen,t=e.onClose,n=e.onAddUser,r=s.a.useState({id:"",username:"",first_name:"",last_name:"",password:"",is_active:!1,last_login:"",is_superuser:!1}),o=Object(c.a)(r,2),i=o[0],l=o[1],u=m.c().shape({username:m.d().typeError("Type will be String").min(1,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 1").max(150,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 150").matches("^[\\w.@+-]+$","\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0438\u043a \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),first_name:m.d().typeError("Type will be String").max(30,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 30"),last_name:m.d().typeError("Type will be String").max(150,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 150"),password:m.d().typeError("Type will be String").min(1,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 1").max(128,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u0443\u043a\u0432 128").matches("^(?=.*[A-Z])(?=.*\\d).{8,}$","\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d \u043f\u0430\u0440\u043e\u043b\u044c").required("\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435"),is_active:m.a().typeError("Type will be Bool")});return s.a.createElement(p.a,{enableReinitialize:!0,initialValues:i,validateOnBlur:!0,validationSchema:u,onSubmit:function(e){n(e.username,e.first_name,e.last_name,e.password,e.is_active),l({id:"",username:"",first_name:"",last_name:"",password:"",is_active:!1})}},(function(e){var n=e.values,r=e.errors,o=e.touched,c=e.handleChange,i=e.handleBlur,l=e.isValid,p=e.handleSubmit,m=e.dirty;return s.a.createElement("section",{className:"pop-up add-pop ".concat(a&&"pops-visible")},s.a.createElement("div",{className:"pop-up__container"},s.a.createElement("button",{className:"pop-up__close-button",onClick:t},s.a.createElement("img",{src:E.a,alt:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",className:"pop-up__close-icon"})),s.a.createElement("form",{className:"pop-up__form pop-up__form_add",onSubmit:p,noValidate:!0},s.a.createElement("h2",{className:"pop-up__form-title"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),s.a.createElement("fieldset",{className:"pop-up__form-input"},s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Username:"),s.a.createElement("input",{type:"text",name:"username",value:n.username,placeholder:"Username",className:"pop-up__input pop-up__input_edit-username",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.username&&r.username&&r.username),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"First name:"),s.a.createElement("input",{type:"text",name:"first_name",value:n.first_name,placeholder:"First name",className:"pop-up__input pop-up__input_edit-first_name",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.first_name&&r.first_name&&r.first_name),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Last name:"),s.a.createElement("input",{type:"text",name:"last_name",value:n.last_name,placeholder:"Last name",className:"pop-up__input pop-up__input_edit-last_name",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.last_name&&r.last_name&&r.last_name),s.a.createElement("div",{className:"pop-up__input-item"},s.a.createElement("p",{className:"pop-up__label"},"Password:"),s.a.createElement("input",{type:"password",name:"password",value:n.password,placeholder:"Password",className:"pop-up__input pop-up__input_edit-password",onChange:c,onBlur:i})),s.a.createElement("p",{className:"pop-up__form-error"},o.password&&r.password&&r.password),s.a.createElement("div",{className:"pop-up__input-checkbox"},s.a.createElement("p",{className:"pop-up__label"},"isActive:"),s.a.createElement("input",{type:"checkbox",name:"is_active",value:n.is_active,className:"pop-up__checkbox pop-up__input_edit-isActive",onChange:c,onBlur:i,checked:n.is_active})),s.a.createElement("p",{className:"pop-up__form-error"},o.is_active&&r.is_active&&r.is_active),s.a.createElement("button",{type:"submit",className:"pop-up__button",disabled:!l||!m},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))))}))};function I(e){var a=e.loggedIn,t=e.headerUser,n=e.signOut,r=s.a.useState([]),o=Object(c.a)(r,2),i=o[0],l=o[1],p=s.a.useState(""),m=Object(c.a)(p,2),d=m[0],E=m[1],h=s.a.useState(!1),f=Object(c.a)(h,2),v=f[0],A=f[1],N=s.a.useState(!1),b=Object(c.a)(N,2),y=b[0],I=b[1];s.a.useEffect((function(){fetch("".concat(w,"/api/v1/users/"),{method:"GET",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Token ".concat(localStorage.token)}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)})).then((function(e){return e})).then((function(e){l(e)})).catch((function(e){return console.log({message:e})}))}),[]);var C=function(){A(!1),I(!1)};return s.a.createElement(s.a.Fragment,null,s.a.createElement(x,{isOpen:v,onClose:C,ID:d,onUpdateUser:function(e,a,t,n,s){(function(e,a,t,n,s){return fetch("".concat(w,"/api/v1/users/").concat(e,"/"),{method:"PATCH",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Token ".concat(localStorage.token)},body:JSON.stringify({username:a,first_name:t,last_name:n,is_active:s})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))})(e,a,t,n,s).then((function(e){var a=i.map((function(a){return a.id===e.id?e:a}));l(a)})).catch((function(e){return console.log({message:e})})),C()}}),s.a.createElement(k,{isOpen:y,onClose:C,onAddUser:function(e,a,t,n,s){(function(e,a,t,n,s){return fetch("".concat(w,"/api/v1/users/"),{method:"POST",headers:{Accept:"application/json","Content-type":"application/json",Authorization:"Token ".concat(localStorage.token)},body:JSON.stringify({username:e,first_name:a,last_name:t,password:n,is_active:s})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))})(e,a,t,n,s).then((function(e){return l([].concat(Object(g.a)(i),[e]))})).catch((function(e){return console.log({message:e})})),C()}}),s.a.createElement("div",{className:"page"},s.a.createElement(u,{headerUser:t,loggedIn:a,signOut:n}),s.a.createElement(S,{users:i,onEditPopup:function(e){A(!0),E(e)},onAddPopup:function(){I(!0)}}),s.a.createElement(_,null)))}var C=t(68),O=t.n(C);function B(){var e=Object(i.g)(),a=s.a.useState(!1),t=Object(c.a)(a,2),n=t[0],r=t[1],o=s.a.useState(""),p=Object(c.a)(o,2),m=p[0],u=p[1],_=s.a.useState(!1),d=Object(c.a)(_,2),E=d[0],h=d[1],v=s.a.useState({}),g=Object(c.a)(v,2),N=g[0],b=g[1];s.a.useEffect((function(){y()}),[]);var y=function(){var a=localStorage.getItem("token"),t=localStorage.getItem("username");a&&t?(u(t),r(!0),e.push("/")):(b({message:"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f.",icon:O.a}),S())};function S(){h(!0)}return s.a.createElement(i.d,null,s.a.createElement(A,{exact:!0,path:"/",loggedIn:n,component:I,headerUser:m,signOut:function(){r(!1),u(""),localStorage.removeItem("token"),localStorage.removeItem("username"),e.push("/")}}),s.a.createElement("div",{className:"page"},s.a.createElement(i.b,{path:"/sign-in"},s.a.createElement(f,{handleLogin:function(a,t){(function(e,a){return fetch("".concat(l,"/api-token-auth/"),{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({username:e,password:a})}).then((function(e){return e.ok?e.json():Promise.reject(e.statusText)})).then((function(e){if(e.token)return localStorage.setItem("token",e.token),e}))})(a,t).then((function(){localStorage.setItem("username",a),u(a),r(!0),e.push("/")})).catch((function(e){b({message:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0435 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c. \u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u0432\u0432\u043e\u0434. (".concat(e,")"),icon:O.a}),S()}))},isInfoToolOpen:E,onClose:function(){h(!1),b({})},forInfoTool:N})),s.a.createElement(i.b,null,s.a.createElement(i.a,{to:"".concat(n?"/":"/sign-in")}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=t(46);o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(j.a,null,s.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[78,1,2]]]);
//# sourceMappingURL=main.1d3cddaa.chunk.js.map