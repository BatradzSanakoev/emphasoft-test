{"version":3,"sources":["images/close.png","images/uncheck.png","images/add.png","components/Auth.js","components/Header.js","components/Footer.js","components/InfoTooltip.js","components/Login.js","components/ProtectedRoute.js","components/User.js","components/Main.js","components/Api.js","components/EditPopup.js","components/AddPopup.js","components/Page.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","BASE_URL","Header","loggedIn","headerUser","signOut","className","onClick","Footer","InfoToolTip","name","isOpen","onClose","text","icon","src","Close","alt","Login","handleLogin","isInfoToolOpen","forInfoTool","validationSchema","yup","shape","username","typeError","required","password","message","initialValues","validateOnBlur","onSubmit","values","errors","touched","handleChange","handleBlur","isValid","handleSubmit","dirty","noValidate","type","placeholder","value","onChange","onBlur","disabled","ProtectedRoute","Component","component","props","to","User","id","onEditPopup","Main","users","onAddPopup","Add","map","key","EditPopup","onUpdateUser","ID","React","useState","first_name","last_name","is_active","last_login","is_superuser","setInitialValues","min","max","matches","useEffect","fetch","method","headers","localStorage","token","then","res","ok","json","Promise","reject","status","user","catch","err","console","log","enableReinitialize","readOnly","checked","AddPopup","onAddUser","Page","setUsers","setId","isEditPopupOpen","setIsEditPopupOpen","isAddPopupOpen","setIsAddPopupOpen","closeAllPopups","body","JSON","stringify","Api","newUsers","u","newUser","App","history","useHistory","setLoggedIn","setUsername","setIsInfoToolOpen","setForInfoTool","checkToken","getItem","push","UnCheckImg","openInfoTooltip","exact","path","removeItem","statusText","data","setItem","Auth","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.1d3cddaa.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAYAAADhu0ooAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAE8SURBVHgB7dmBacMwEIXhayfwKN2g3aQaJZu0G3SEjpBRMsKLTHIgjFFkWyfpzPtABEKI9JMQTkSEiIiIiIi6ATBJT/EAP/MSQ/H9P+K6xfUtPTwjlUlsEqnaxi4iTWJXIg/Fvss+byvPhVqxc2R8+I9rKtzbTjzML9Ydis18krMgPdSOHTIyOVyV2KEj1dFYF5Fqb6yrSLU11mWkKo11HalexZ4iUmVi/04TqTKx54lUhbFBzuD5de0auXeoL4bHgP6VecmneIf8r2vK9PJuakOk39gXkfO91eSK1xQKhwHXsdg48biMxc6xzlUsDs6uLmJRaUAfOhaVbyFDxsLoqjVULIzvk0PExs0mNLhPZmIv0goe041ZZLLPMvaK1v+sLWKDGEli20cmhwiWkck+F/T+j5SIiIiIiPq6A+E83r5G5qT6AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWAgMAAAC52oSoAAAADFBMVEUAAAD///////////84wDuoAAAAA3RSTlMAQHBaCvrnAAAAIUlEQVQI12NgYJB3ABLkUqGh+VNDAxj+g8AHKAUVpNBoAPerFytk60d3AAAAAElFTkSuQmCC\"","export const BASE_URL = 'https://emphasoft-test-assignment.herokuapp.com';\r\n\r\nexport const authorize = (username, password) => {\r\n    return fetch(`${BASE_URL}/api-token-auth/`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-type': 'application/json'\r\n        },\r\n        body: JSON.stringify({ username, password })\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else return Promise.reject(res.statusText);\r\n        })\r\n        .then((data) => {\r\n            if (data.token) {\r\n                localStorage.setItem('token', data.token);\r\n                return data;\r\n            }\r\n        });\r\n};\r\n\r\nexport const getContent = (token) => {\r\n    return fetch(`${BASE_URL}/users/me`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json',\r\n            'Authorization': `Bearer ${token}`\r\n        }\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else return Promise.reject(res.status);\r\n        })\r\n        .then((data) => data);\r\n};","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Header({ loggedIn, headerUser, signOut }) {\r\n    return (\r\n        <header className='header'>\r\n            <h1 className='header__title'>Emphasoft Test</h1>\r\n            <div className={`${loggedIn ? 'header__info' : 'header__status'}`}>\r\n                <p className='header__user'>{headerUser}</p>\r\n                <p className='header__out' onClick={signOut}>Выйти</p>\r\n            </div> \r\n        </header>\r\n    )\r\n}","import React from 'react';\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className='footer'>\r\n            <p className='footer__copyright'>©Emphasoft Test 2020</p>\r\n        </footer>\r\n    )\r\n}","import React from 'react';\r\nimport Close from '../images/close.png';\r\n\r\nfunction InfoToolTip({ name, isOpen, onClose, text, icon }) {\r\n    return (\r\n        <section className={`pop-up ${name}-pop ${isOpen && 'pops-visible'}`}>\r\n            <div className='pop-up__container'>\r\n                <button className='pop-up__close-button' onClick={onClose}>\r\n                    <img src={Close} alt='закрыть' className='pop-up__close-icon' />\r\n                </button>\r\n                <div className='auth-check'>\r\n                    <img className='auth-check__img' alt='иконка' src={icon} />\r\n                    <p className='auth-check__text'>{text}</p>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default InfoToolTip;","import React from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\nimport InfoToolTip from './InfoTooltip';\r\n\r\nexport default function Login({ handleLogin, isInfoToolOpen, onClose, forInfoTool }) {\r\n\r\n    const validationSchema = yup.object().shape({\r\n        username: yup.string().typeError('Type will be String').required('Обязательное поле'),\r\n        password: yup.string().typeError('Type will be String').required('Обязательное поле')\r\n    });\r\n\r\n    return (\r\n        <>\r\n            <InfoToolTip isOpen={isInfoToolOpen} onClose={onClose} text={forInfoTool.message} icon={forInfoTool.icon} />\r\n            <Header />\r\n            <Formik\r\n                initialValues={{\r\n                    username: '',\r\n                    password: ''\r\n                }}\r\n                validateOnBlur\r\n                onSubmit={(values) => {\r\n                    handleLogin(values.username, values.password);\r\n                    values.username = '';\r\n                    values.password = '';\r\n                }}\r\n                validationSchema={validationSchema}\r\n                \r\n            >\r\n                {({ values, errors, touched, handleChange, handleBlur, isValid, handleSubmit, dirty }) => (\r\n                    <section className='auth-section'>\r\n                        <h2 className='auth-section__title'>Вход</h2>\r\n                        <form className='auth-section__form' onSubmit={handleSubmit} noValidate>\r\n                            <input\r\n                                className='auth-section__input'\r\n                                type='text'\r\n                                placeholder='Username'\r\n                                value={values.username}\r\n                                name='username'\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                            <p className='pop-up__form-error'>{touched.username && errors.username && errors.username}</p>\r\n                            <input\r\n                                className='auth-section__input'\r\n                                type='password'\r\n                                placeholder='Password'\r\n                                value={values.password}\r\n                                name='password'\r\n                                onChange={handleChange}\r\n                                onBlur={handleBlur}\r\n                            />\r\n                            <p className='pop-up__form-error'>{touched.password && errors.password && errors.password}</p>\r\n                            <button\r\n                                type='submit'\r\n                                className='auth-section__button'\r\n                                disabled={!isValid || !dirty}\r\n                            >\r\n                                Войти\r\n                            </button>\r\n                        </form>\r\n                    </section>\r\n                )}\r\n            </Formik>\r\n            <Footer />\r\n        </>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {    \r\n    return (\r\n        <Route>\r\n            {\r\n                props.loggedIn ? <Component {...props} /> : <Redirect to='./sign-in' />\r\n            }\r\n        </Route>\r\n    )\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\n\r\nfunction User({ id, username, onEditPopup }) {\r\n\r\n    const editOpen = () => {\r\n        onEditPopup(id);\r\n    };\r\n\r\n    return (\r\n        <div className=\"user\">\r\n            <div className='user__container'>\r\n                <div className='user__info'>\r\n                    <p className='user__id'>ID: {id}</p>\r\n                    <p className='user__name'>User: {username}</p>\r\n                </div>\r\n                <div className='user__buttons'>\r\n                    <button className='user__button user__button_edit' onClick={editOpen}>Изменить</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport User from './User';\r\nimport Add from '../images/add.png';\r\n\r\nexport default function Main({ users, onEditPopup, onAddPopup }) {\r\n    return (\r\n        <main className='content'>\r\n            <section className=\"profile\">\r\n                <div className=\"profile__add-part\">\r\n                    <button className=\"profile__add-button\" onClick={onAddPopup}>\r\n                        <img src={Add} alt=\"добавить\" className=\"profile__add-icon\" />\r\n                    </button>\r\n                </div>\r\n            </section>\r\n            <section className='users'>\r\n                {users.map(({ id, ...props }) => <User key={id} id={id} onEditPopup={onEditPopup} {...props} />)}\r\n            </section>\r\n        </main>\r\n    )\r\n}","export const BASE_URL = 'https://emphasoft-test-assignment.herokuapp.com';\r\n\r\nexport const loadUsersList = () => {\r\n    return fetch(`${BASE_URL}/api/v1/users/`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json',\r\n            'Authorization': `Token ${localStorage.token}`\r\n        }\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else return Promise.reject(res.status);\r\n        })\r\n        .then((res) => {\r\n            return res;\r\n        });\r\n};\r\n\r\nexport const loadUserInfo = (id) => {\r\n    return fetch(`${BASE_URL}/api/v1/users/${id}/`, {\r\n        method: 'GET',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json',\r\n            'Authorization': `Token ${localStorage.token}`\r\n        }\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else return Promise.reject(res.status);\r\n        })\r\n        .then((res) => {\r\n            return res;\r\n        });\r\n};\r\n\r\nexport const editUserInfo = (id, username, first_name, last_name, is_active) => {\r\n    return fetch(`${BASE_URL}/api/v1/users/${id}/`, {\r\n        method: 'PATCH',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json',\r\n            'Authorization': `Token ${localStorage.token}`\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            first_name: first_name,\r\n            last_name: last_name,\r\n            is_active: is_active\r\n        })\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else return Promise.reject(res.status);\r\n        });\r\n};\r\n\r\nexport const addUser = (username, first_name, last_name, password, is_active) => {\r\n    return fetch(`${BASE_URL}/api/v1/users/`, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-type': 'application/json',\r\n            'Authorization': `Token ${localStorage.token}`\r\n        },\r\n        body: JSON.stringify({\r\n            username: username,\r\n            first_name: first_name,\r\n            last_name: last_name,\r\n            password: password,\r\n            is_active: is_active\r\n        })\r\n    })\r\n        .then((res) => {\r\n            if (res.ok) return res.json();\r\n            else return Promise.reject(res.status);\r\n        });\r\n};","import React from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport * as Api from './Api';\r\nimport Close from '../images/close.png';\r\n\r\nexport default function EditPopup({ isOpen, onClose, onUpdateUser, ID }) {\r\n\r\n    const [initialValues, setInitialValues] = React.useState({\r\n        id: '',\r\n        username: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        is_active: false,\r\n        last_login: '',\r\n        is_superuser: false\r\n    });\r\n\r\n    const validationSchema = yup.object().shape({\r\n        id: yup.number().typeError('Type will be String').required('Обязательное поле'),\r\n        username: yup.string().typeError('Type will be String').min(1, 'Минимальное количество букв 1').max(150, 'Максимальное количество букв 150').matches('^[\\\\w.@+-]+$', 'Неверно введен ник пользователя').required('Обязательное поле'),\r\n        first_name: yup.string().typeError('Type will be String').max(30, 'Максимальное количество букв 30'),\r\n        last_name: yup.string().typeError('Type will be String').max(150, 'Максимальное количество букв 150'),\r\n        // password: yup.string().typeError('Type will be String').min(1, 'Минимальное количество букв 1').max(128, 'Максимальное количество букв 128').matches('^(?=.*[A-Z])(?=.*\\d).{8,}$', 'Неправильно введен пароль').required('Обязательное поле'),\r\n        is_active: yup.boolean().typeError('Type will be Bool'),\r\n        last_login: yup.string().typeError('Type will be String'),\r\n        is_superuser: yup.boolean().typeError('Type will be Bool')\r\n    });\r\n\r\n    React.useEffect(() => {\r\n        Api.loadUserInfo(ID)\r\n            .then((user) => {\r\n                setInitialValues({\r\n                    id: user.id,\r\n                    username: user.username,\r\n                    first_name: user.first_name,\r\n                    last_name: user.last_name,\r\n                    is_active: (user.is_active && true),\r\n                    last_login: user.last_login ? user.last_login : '',\r\n                    is_superuser: (user.is_superuser && true)\r\n                });\r\n            })\r\n            .catch((err) => console.log({ message: err }));\r\n    }, [ID]);\r\n\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize={true}\r\n            initialValues={initialValues}\r\n            validateOnBlur\r\n            validationSchema={validationSchema}\r\n            onSubmit={(values) => {\r\n                onUpdateUser(values.id, values.username, values.first_name, values.last_name, values.is_active);\r\n            }}\r\n        >\r\n            {({ values, errors, touched, handleChange, handleBlur, isValid, handleSubmit, dirty }) => (\r\n                <section className={`pop-up edit-pop ${isOpen && 'pops-visible'}`}>\r\n                    <div className='pop-up__container'>\r\n                        <button className='pop-up__close-button' onClick={onClose}>\r\n                            <img src={Close} alt='закрыть' className='pop-up__close-icon' />\r\n                        </button>\r\n                        <form className={`pop-up__form pop-up__form_edit`} onSubmit={handleSubmit} noValidate>\r\n                            <h2 className='pop-up__form-title'>Редактировать пользователя</h2>\r\n                            <fieldset className={'pop-up__form-input'}>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>ID:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='id'\r\n                                        value={values.id}\r\n                                        placeholder='ID'\r\n                                        className='pop-up__input pop-up__input_edit-id' id='edit-id-input'\r\n                                        readOnly\r\n                                    />\r\n                                </div>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Username:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='username'\r\n                                        value={values.username}\r\n                                        placeholder='Username'\r\n                                        className='pop-up__input pop-up__input_edit-username'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.username && errors.username && errors.username}</p>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>First name:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='first_name'\r\n                                        value={values.first_name}\r\n                                        placeholder='First name'\r\n                                        className='pop-up__input pop-up__input_edit-first_name'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.first_name && errors.first_name && errors.first_name}</p>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Last name:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='last_name'\r\n                                        value={values.last_name}\r\n                                        placeholder='Last name'\r\n                                        className='pop-up__input pop-up__input_edit-last_name'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.last_name && errors.last_name && errors.last_name}</p>\r\n                                <div className='pop-up__input-checkbox'>\r\n                                    <p className='pop-up__label'>isActive:</p>\r\n                                    <input\r\n                                        type='checkbox'\r\n                                        name='is_active'\r\n                                        value={values.is_active}\r\n                                        className='pop-up__checkbox pop-up__input_edit-isActive'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                        checked={values.is_active}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.is_active && errors.is_active && errors.is_active}</p>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Last login:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='last_login'\r\n                                        value={values.last_login}\r\n                                        placeholder='Last login'\r\n                                        className='pop-up__input pop-up__input_edit-last_login'\r\n                                        readOnly\r\n                                    />\r\n                                </div>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Is Superuser:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='is_superuser'\r\n                                        value={values.is_superuser}\r\n                                        placeholder='Is Superuser'\r\n                                        className='pop-up__input pop-up__input_edit-is_superuser'\r\n                                        readOnly\r\n                                    />\r\n                                </div>\r\n                                <button\r\n                                    type='submit'\r\n                                    className='pop-up__button'\r\n                                    disabled={!isValid || !dirty}\r\n                                >\r\n                                    Изменить\r\n                                </button>\r\n                            </fieldset>\r\n                        </form>\r\n                    </div>\r\n                </section>\r\n            )}\r\n        </Formik>\r\n    )\r\n}","import React from 'react';\r\nimport { Formik } from 'formik';\r\nimport * as yup from 'yup';\r\nimport Close from '../images/close.png';\r\n\r\nfunction AddPopup({ isOpen, onClose, onAddUser }) {\r\n\r\n    const [initialValues, setInitialValues] = React.useState({\r\n        id: '',\r\n        username: '',\r\n        first_name: '',\r\n        last_name: '',\r\n        password: '',\r\n        is_active: false,\r\n        last_login: '',\r\n        is_superuser: false\r\n    });\r\n\r\n    const validationSchema = yup.object().shape({\r\n        username: yup.string().typeError('Type will be String').min(1, 'Минимальное количество букв 1').max(150, 'Максимальное количество букв 150').matches('^[\\\\w.@+-]+$', 'Неверно введен ник пользователя').required('Обязательное поле'),\r\n        first_name: yup.string().typeError('Type will be String').max(30, 'Максимальное количество букв 30'),\r\n        last_name: yup.string().typeError('Type will be String').max(150, 'Максимальное количество букв 150'),\r\n        password: yup.string().typeError('Type will be String').min(1, 'Минимальное количество букв 1').max(128, 'Максимальное количество букв 128').matches('^(?=.*[A-Z])(?=.*\\\\d).{8,}$', 'Неправильно введен пароль').required('Обязательное поле'),\r\n        is_active: yup.boolean().typeError('Type will be Bool')\r\n    });\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize={true}\r\n            initialValues={initialValues}\r\n            validateOnBlur\r\n            validationSchema={validationSchema}\r\n            onSubmit={(values) => {\r\n                onAddUser(values.username, values.first_name, values.last_name, values.password, values.is_active);\r\n                setInitialValues({\r\n                    id: '',\r\n                    username: '',\r\n                    first_name: '',\r\n                    last_name: '',\r\n                    password: '',\r\n                    is_active: false\r\n                });\r\n            }}\r\n        >\r\n            {({ values, errors, touched, handleChange, handleBlur, isValid, handleSubmit, dirty }) => (\r\n                <section className={`pop-up add-pop ${isOpen && 'pops-visible'}`}>\r\n                    <div className='pop-up__container'>\r\n                        <button className='pop-up__close-button' onClick={onClose}>\r\n                            <img src={Close} alt='закрыть' className='pop-up__close-icon' />\r\n                        </button>\r\n                        <form className={`pop-up__form pop-up__form_add`} onSubmit={handleSubmit} noValidate>\r\n                            <h2 className='pop-up__form-title'>Добавить пользователя</h2>\r\n                            <fieldset className={'pop-up__form-input'}>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Username:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='username'\r\n                                        value={values.username}\r\n                                        placeholder='Username'\r\n                                        className='pop-up__input pop-up__input_edit-username'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.username && errors.username && errors.username}</p>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>First name:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='first_name'\r\n                                        value={values.first_name}\r\n                                        placeholder='First name'\r\n                                        className='pop-up__input pop-up__input_edit-first_name'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.first_name && errors.first_name && errors.first_name}</p>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Last name:</p>\r\n                                    <input\r\n                                        type='text'\r\n                                        name='last_name'\r\n                                        value={values.last_name}\r\n                                        placeholder='Last name'\r\n                                        className='pop-up__input pop-up__input_edit-last_name'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.last_name && errors.last_name && errors.last_name}</p>\r\n                                <div className='pop-up__input-item'>\r\n                                    <p className='pop-up__label'>Password:</p>\r\n                                    <input\r\n                                        type='password'\r\n                                        name='password'\r\n                                        value={values.password}\r\n                                        placeholder='Password'\r\n                                        className='pop-up__input pop-up__input_edit-password'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.password && errors.password && errors.password}</p>\r\n                                <div className='pop-up__input-checkbox'>\r\n                                    <p className='pop-up__label'>isActive:</p>\r\n                                    <input\r\n                                        type='checkbox'\r\n                                        name='is_active'\r\n                                        value={values.is_active}\r\n                                        className='pop-up__checkbox pop-up__input_edit-isActive'\r\n                                        onChange={handleChange}\r\n                                        onBlur={handleBlur}\r\n                                        checked={values.is_active}\r\n                                    />\r\n                                </div>\r\n                                <p className='pop-up__form-error'>{touched.is_active && errors.is_active && errors.is_active}</p>\r\n                                <button\r\n                                    type='submit'\r\n                                    className='pop-up__button'\r\n                                    disabled={!isValid || !dirty}\r\n                                >\r\n                                    Добавить\r\n                            </button>\r\n                            </fieldset>\r\n                        </form>\r\n                    </div>\r\n                </section>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport default AddPopup;","import React from 'react'\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport * as Api from './Api';\r\nimport EditPopup from './EditPopup';\r\nimport AddPopup from './AddPopup';\r\n\r\nexport default function Page({ loggedIn, headerUser, signOut }) {\r\n    const [users, setUsers] = React.useState([]);\r\n    const [ID, setId] = React.useState('');\r\n    const [isEditPopupOpen, setIsEditPopupOpen] = React.useState(false);\r\n    const [isAddPopupOpen, setIsAddPopupOpen] = React.useState(false);\r\n\r\n    React.useEffect(() => {\r\n        Api.loadUsersList()\r\n            .then((users) => {\r\n                setUsers(users);\r\n            })\r\n            .catch((err) => console.log({ message: err }));\r\n    }, []);\r\n\r\n    const closeAllPopups = () => {\r\n        setIsEditPopupOpen(false);\r\n        setIsAddPopupOpen(false);\r\n    };\r\n\r\n    const onEditPopup = (id) => {\r\n        setIsEditPopupOpen(true);\r\n        setId(id);\r\n    };\r\n\r\n    const onAddPopup = () => {\r\n        setIsAddPopupOpen(true);\r\n    };\r\n\r\n    const editUser = (id, username, first_name, last_name, is_active) => {\r\n        Api.editUserInfo(id, username, first_name, last_name, is_active)\r\n            .then((user) => {\r\n                const newUsers = users.map((u) => u.id === user.id ? user : u);\r\n                setUsers(newUsers);\r\n            })\r\n            .catch((err) => console.log({ message: err }));\r\n        closeAllPopups();\r\n    };\r\n\r\n    const addUser = (username, first_name, last_name, password, is_active) => {\r\n        Api.addUser(username, first_name, last_name, password, is_active)\r\n            .then((newUser) => setUsers([...users, newUser]))\r\n            .catch((err) => console.log({ message: err }));\r\n        closeAllPopups();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <EditPopup isOpen={isEditPopupOpen} onClose={closeAllPopups} ID={ID} onUpdateUser={editUser} />\r\n            <AddPopup isOpen={isAddPopupOpen} onClose={closeAllPopups} onAddUser={addUser} />\r\n            <div className='page'>\r\n                <Header headerUser={headerUser} loggedIn={loggedIn} signOut={signOut} />\r\n                <Main users={users} onEditPopup={onEditPopup} onAddPopup={onAddPopup} />\r\n                <Footer />\r\n            </div>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\nimport { Switch, Route, Redirect, useHistory } from 'react-router-dom';\r\nimport * as Auth from './Auth';\r\nimport Login from './Login';\r\nimport ProtectedRoute from './ProtectedRoute';\r\nimport Page from './Page';\r\nimport UnCheckImg from '../images/uncheck.png';\r\n\r\nexport default function App() {\r\n\r\n    const history = useHistory();\r\n    const [loggedIn, setLoggedIn] = React.useState(false);\r\n    const [username, setUsername] = React.useState('');\r\n    const [isInfoToolOpen, setIsInfoToolOpen] = React.useState(false);\r\n    const [forInfoTool, setForInfoTool] = React.useState({});\r\n\r\n    React.useEffect(() => {\r\n        checkToken();\r\n    }, []);\r\n\r\n    const checkToken = () => {\r\n        let token = localStorage.getItem('token');\r\n        let username = localStorage.getItem('username');\r\n\r\n        if (token && username) {\r\n            setUsername(username);\r\n            setLoggedIn(true);\r\n            history.push('/');\r\n        } else {\r\n            setForInfoTool({ message: 'Необходимо авторизоваться.', icon: UnCheckImg });\r\n            openInfoTooltip();\r\n        }\r\n    };\r\n\r\n    const handleLogin = (username, password) => {\r\n        Auth.authorize(username, password)\r\n            .then(() => {\r\n                localStorage.setItem('username', username);\r\n                setUsername(username);\r\n                setLoggedIn(true);\r\n                history.push('/');\r\n            })\r\n            .catch((err) => {\r\n                setForInfoTool({ message: `Неверные логин или пароль. Повторите ввод. (${err})`, icon: UnCheckImg });\r\n                openInfoTooltip();\r\n            });\r\n    };\r\n\r\n    const sigOut = () => {\r\n        setLoggedIn(false);\r\n        setUsername('');\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('username');\r\n        history.push('/');\r\n    };\r\n\r\n    function openInfoTooltip() {\r\n        setIsInfoToolOpen(true);\r\n    }\r\n\r\n    function closeInfoTooltip() {\r\n        setIsInfoToolOpen(false);\r\n        setForInfoTool({});\r\n    }\r\n\r\n    return (\r\n        <Switch>\r\n            <ProtectedRoute exact path='/' loggedIn={loggedIn} component={Page} headerUser={username} signOut={sigOut} />\r\n            <div className='page'>\r\n                <Route path='/sign-in'>\r\n                    <Login handleLogin={handleLogin} isInfoToolOpen={isInfoToolOpen} onClose={closeInfoTooltip} forInfoTool={forInfoTool} />\r\n                </Route>\r\n                <Route>\r\n                    <Redirect to={`${loggedIn ? '/' : '/sign-in'}`} />\r\n                </Route>\r\n            </div>\r\n        </Switch>\r\n    )\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}